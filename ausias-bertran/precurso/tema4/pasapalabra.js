let rosco = {   //  objeto raiz

    questionsLibrary: [
        [
            { letter: "a", answer: "abducir", status: 0, question: "CON LA A. Dicho de una supuesta criatura extraterrestre: Apoderarse de alguien" },
            { letter: "a", answer: "antonimo", status: 0, question: "CON LA A. Palabra que significa lo contrario de una dada" },
            { letter: "a", answer: "acepcion", status: 0, question: "CON LA A. Cada uno de los significados que tiene una palabra" },
            { letter: "a", answer: "aceite", status: 0, question: "CON LA A. Líquido graso de color verde amarillento que se obtiene prensando las aceitunas" }
        ],[
            { letter: "b", answer: "bingo", status: 0, question: "CON LA B. Juego que ha sacado de quicio a todos los 'Skylabers' en las sesiones de precurso" },
            { letter: "b", answer: "bisilaba", status: 0, question: "CON LA B. Palabra que tiene dos sílabas" },
            { letter: "b", answer: "biografia", status: 0, question: "CON LA B. Contar la vida de una persona por escrito" },
            { letter: "b", answer: "buzon", status: 0, question: "CON LA B. Abertura por donde se echan las cartas por el correo." }
        ],[
            { letter: "c", answer: "churumbel", status: 0, question: "CON LA C. Niño, crío, bebé" },
            { letter: "c", answer: "cantidad", status: 0, question: "CON LA C. Más es un adverbio de…" },
            { letter: "c", answer: "comic", status: 0, question: "CON LA C. Historia contada en viñetas con dibujos y palabras" },
            { letter: "c", answer: "chandal", status: 0, question: "CON LA C. Ropa deportiva que consta de un pantalón y una chaqueta o jersey amplios" }
        ],[
            { letter: "d", answer: "diarrea", status: 0, question: "CON LA D. Anormalidad en la función del aparato digestivo caracterizada por frecuentes evacuaciones y su consistencia líquida" },
            { letter: "d", answer: "determinantes", status: 0, question: "CON LA D. Los artículos, demostrativos, posesivos, etc. Son…" },
            { letter: "d", answer: "diccionario", status: 0, question: "CON LA D. Libro en el que aparece el significado de las palabras por orden alfabético" },
            { letter: "d", answer: "devoto", status: 0, question: "CON LA D. Dedicado con fervor a obras de piedad y religión" }
        ],[
            { letter: "e", answer: "ectoplasma", status: 0, question: "CON LA E. Gelatinoso y se encuentra debajo de la membrana plasmática. Los cazafantasmas medían su radiación" },
            { letter: "e", answer: "esdrujula", status: 0, question: "CON LA E. Palabra cuya sílaba tónica es la antepenúltima" },
            { letter: "e", answer: "estrofa", status: 0, question: "CON LA E. Grupo de versos que riman entre sí o tratan de un tema determinado" },
            { letter: "e", answer: "entera", status: 0, question: "CON LA E. Se dice de la leche que conserva toda la grasa y sustancias nutritivas" }
        ],[
            { letter: "f", answer: "facil", status: 0, question: "CON LA F. Que no requiere gran esfuerzo, capacidad o dificultad" },
            { letter: "f", answer: "frase", status: 0, question: "CON LA F. Tipo de enunciado que no tiene verbo" },
            { letter: "f", answer: "futuro", status: 0, question: "CON LA F. Tiempo verbal que indica que la acción se va a realizar" },
            { letter: "f", answer: "forestal", status: 0, question: "CON LA F. Perteneciente o relativo a los bosques y a los aprovechamientos de leñas o pastos" }
        ],[
            { letter: "g", answer: "galaxia", status: 0, question: "CON LA G. Conjunto enorme de estrellas, polvo interestelar, gases y partículas" },
            { letter: "g", answer: "genero", status: 0, question: "CON LA G. Lo que nos indica si es masculino o femenino es el…" },
            { letter: "g", answer: "grave", status: 0, question: "CON LA G. Antónimo de leve" },
            { letter: "g", answer: "gorigori", status: 0, question: "CON LA G. Coloquialmente canto fúnebre con el que se acompañan los entierros" }
        ],[
            { letter: "h", answer: "harakiri", status: 0, question: "CON LA H. Suicidio ritual japonés por desentrañamiento" },
            { letter: "h", answer: "hiato", status: 0, question: "CON LA H. Dos vocales juntas que forman dos sílabas distintas" },
            { letter: "h", answer: "homofonas", status: 0, question: "CON LA H. Palabras que se pronunciamos igual, pero tienen significados diferentes" },
            { letter: "h", answer: "hombrera", status: 0, question: "CON LA H. Adorno especial de los vestidos en la parte correspondiente a los hombros" }
        ],[
            { letter: "i", answer: "iglesia", status: 0, question: "CON LA I. Templo cristiano" },
            { letter: "i", answer: "infinitivo", status: 0, question: "CON LA I. Forma no personal del verbo" },
            { letter: "i", answer: "interrogativo", status: 0, question: "CON LA I. Enunciado que sirve para preguntar" },
            { letter: "i", answer: "intuir", status: 0, question: "CON LA I. Percibir íntima e instantáneamente una idea o verdad tal como si se la tuviera a la vista" }
        ],[
            { letter: "j", answer: "jabali", status: 0, question: "CON LA J. Variedad salvaje del cerdo que sale en la película 'El Rey León', de nombre Pumba" },
            { letter: "j", answer: "jiménez", status: 0, question: "CON LA J. Apellido del autor de \“Platero y yo\”" },
            { letter: "j", answer: "adjetivo", status: 0, question: "CONTIENE LA J. Que expresa cualidad o estado de los nombres a los que se refiere" },
            { letter: "j", answer: "jornada", status: 0, question: "CON LA J. Tiempo de duración del trabajo diario" }
        ],[
            { letter: "k", answer: "kamikaze", status: 0, question: "CON LA K. Persona que se juega la vida realizando una acción temeraria" },
            { letter: "k", answer: "frank", status: 0, question: "CONTIENE LA K. Apellido de una niña que ha pasado a la historia por su diario" },
            { letter: "k", answer: "frankenstein", status: 0, question: "CONTIENE LA K. Título de una novela y nombre de su protagonista, un sabio que da vida a un monstruo componiendo miembros de cadáveres" },
            { letter: "k", answer: "karaoke", status: 0, question: "CON LA K. Diversión consistente en interpretar una canción grabada, mientras se sigue la letra que aparece en una pantalla" }
        ],[
            { letter: "l", answer: "licantropo", status: 0, question: "CON LA L. Hombre lobo" },
            { letter: "l", answer: "los", status: 0, question: "CON LA L. Artículo masculino plural" },
            { letter: "l", answer: "lope de vega", status: 0, question: "CON LA L. Gran escritor español perteneciente al Siglo de Oro" },
            { letter: "l", answer: "litera", status: 0, question: "CON LA L. Mueble formado por dos camas puestas una encima de la otra" }
        ],[
            { letter: "m", answer: "misantropo", status: 0, question: "CON LA M. Persona que huye del trato con otras personas o siente gran aversión hacia ellas" },
            { letter: "m", answer: "monosilaba", status: 0, question: "CON LA M. Palabra que contiene una sola sílaba" },
            { letter: "m", answer: "mayonesa", status: 0, question: "CON LA M. Salsa que se hace batiendo huevo y aceite" },
            { letter: "m", answer: "menor", status: 0, question: "CON LA M. Se dice de una persona que no ha alcanzado la mayoría de edad" }
        ],[
            { letter: "n", answer: "necedad", status: 0, question: "CON LA N. Demostración de poca inteligencia" },
            { letter: "n", answer: "numeral", status: 0, question: "CON LA N. Determinante que indica cantidad u orden" },
            { letter: "n", answer: "nombre", status: 0, question: "CON LA N. Así llamamos también al sustantivo" },
            { letter: "n", answer: "ninfa", status: 0, question: "CON LA N. Cada una de las fabulosas deidades de las aguas, bosques o selva" }
        ],[
            { letter: "ñ", answer: "señal", status: 0, question: "CONTIENE LA Ñ. Indicio que permite deducir algo de lo que no se tiene un conocimiento directo" },
            { letter: "ñ", answer: "añorar", status: 0, question: "CONTIENE LA Ñ. Sinónimo de extrañar, echar de menos" },
            { letter: "ñ", answer: "niñez", status: 0, question: "CONTIENE LA Ñ. Sinónimo de infancia" },
            { letter: "ñ", answer: "patraña", status: 0, question: "CONTIENE LA Ñ. Mentira o noticia fabulosa de pura invención" }
        ],[
           { letter: "o", answer: "orco", status: 0, question: "CON LA O. Humanoide fantástico de apariencia terrible y bestial, piel de color verde creada por el escritor Tolkien" },
           { letter: "o", answer: "oracion", status: 0, question: "CON LA O. Enunciado con sentido completo y que tiene al menos un verbo" },
           { letter: "o", answer: "ortografia", status: 0, question: "CON LA O. Conjunto de normas que regulan la escritura" },
           { letter: "o", answer: "organizacion", status: 0, question: "CON LA O. Asociación de personas regulada por un conjunto de normas en función de determinados fines" }
       ],[
            { letter: "p", answer: "planchar", status: 0, question: "CON LA P. Quitar las arrugas a una prenda" },
            { letter: "p", answer: "polisemicas", status: 0, question: "CON LA P. Palabras con más de un significado" },
            { letter: "p", answer: "promover", status: 0, question: "CON LA P. Iniciar o impulsar una idea o proyecto procurando su logro" },
            { letter: "p", answer: "prioridad", status: 0, question: "CON LA P. Anterioridad de algo respecto de otra cosa en tiempo u orden" }
        ],[
            { letter: "q", answer: "queso", status: 0, question: "CON LA Q. Producto obtenido por la maduración de la cuajada de la leche" },
            { letter: "q", answer: "enclenque", status: 0, question: "CONTIENE LA Q. Dícese de la persona débil, enfermiza, muy flaca" },
            { letter: "q", answer: "quijano", status: 0, question: "CON LA Q. Apellido real de Don Quijote antes de cambiarse de nombre" },
            { letter: "q", answer: "branquia", status: 0, question: "CONTIENE LA Q. Órgano respiratorio de los peces formado por láminas o filamentos" } 
        ],[
            { letter: "r", answer: "raton", status: 0, question: "CON LA R. Roedor" },
            { letter: "r", answer: "romances", status: 0, question: "CON LA R. Los juglares recorrían las plazas de los pueblos recitándolos para divertir a la gente" },
            { letter: "r", answer: "receptor", status: 0, question: "CON LA R. El que recibe la información" },
            { letter: "r", answer: "racimo", status: 0, question: "CON LA R. Conjunto de uvas sostenidas en un mismo tallo" }
        ],[
            { letter: "s", answer: "stackoverflow", status: 0, question: "CON LA S. Comunidad salvadora de todo desarrollador informático" },
            { letter: "s", answer: "sinonimo", status: 0, question: "CON LA S. Que tiene el mismo significado" },
            { letter: "s", answer: "sobreesdrujula", status: 0, question: "CON LA S. Palabra cuya sílaba tónica es la anterior a la antepenúltima" },
            { letter: "s", answer: "samba", status: 0, question: "CON LA S. Danza popular brasileña de influencia africana cantada de compás binario" }
        ],[
            { letter: "t", answer: "terminator", status: 0, question: "CON LA T. Película del director James Cameron que consolidó a Arnold Schwarzenegger como actor en 1984" },
            { letter: "t", answer: "tragedia", status: 0, question: "CON LA T. Obra de teatro que tiene un desenlace desgraciado" },
            { letter: "t", answer: "tonica", status: 0, question: "CON LA T. Nombre de la sílaba que pronunciamos con más fuerza" },
            { letter: "t", answer: "tragaperras", status: 0, question: "CON LA T. Máquina de juegos de azar que funciona introduciendo monedas" }
        ],[
            { letter: "u", answer: "unamuno", status: 0, question: "CON LA U. Escritor y filósofo español de la generación del 98 autor del libro 'Niebla' en 1914" },
            { letter: "u", answer: "undecimo", status: 0, question: "CON LA U. Adjetivo que sigue inmediatamente en orden al o a lo décimo" },
            { letter: "u", answer: "ultimo", status: 0, question: "CON LA U. Antónimo de Primero" },
            { letter: "u", answer: "usurpar", status: 0, question: "CON LA U. Atribuirse y usar un título o cargo ajeno como si fuera propio" }
        ],[
            { letter: "v", answer: "vikingos", status: 0, question: "CON LA V. Nombre dado a los miembros de los pueblos nórdicos originarios de Escandinavia, famosos por sus incursiones y pillajes en Europa" },
            { letter: "v", answer: "verbo", status: 0, question: "CON LA V. Palabras que indican acción o estado" },
            { letter: "v", answer: "verso", status: 0, question: "CON LA V. Cada uno de los renglones cortos que forman una poesía" },
            { letter: "v", answer: "vivienda", status: 0, question: "CON LA V. Lugar cerrado o cubierto construido para ser habitado por personas" }
        ],[
            { letter: "w", answer: "sandwich", status: 0, question: "CONTIENE LA W. Emparedado hecho con dos rebanadas de pan entre las cuales se coloca jamón y queso" },
            { letter: "w", answer: "what", status: 0, question: "CONTIENE LA W. qué em inglés" },
            { letter: "w", answer: "whisky", status: 0, question: "CONTIENE LA W.  Licor alcóholico que se obtiene del destilado del grano de algunas plantas" },
            { letter: "w", answer: "wifi", status: 0, question: "CON LA W. Sistema de conexión inalámbrica para conectarse a internet" }
        ],[
            { letter: "x", answer: "botox", status: 0, question: "CONTIENE LA X. Toxina bacteriana utilizada en cirujía estética" },
            { letter: "x", answer: "extra", status: 0, question: "CONTIENE LA X. Prefijo que significa \“fuera de\”" },
            { letter: "x", answer: "exaltar", status: 0, question: "CONTIENE LA X. Avivar o aumentar un sentimiento o pasión, realzar el mérito o la cualidades de alguien" },
            { letter: "x", answer: "oxford", status: 0, question: "CONTIENE LA X. Ciudad inglesa cuya universidad compite cada año en una popular regata contra la universidad de Cambridge" }
        ],[
            { letter: "y", answer: "peyote", status: 0, question: "CONTIENE LA Y. Pequeño cáctus conocido por sus alcaloides psicoactivos utilizado de forma ritual y medicinal  por indígenas americanos" },
            { letter: "y", answer: "onomatopeya", status: 0, question: "CONTIENE LA Y. Vocablo que imita o recrea un sonido" },
            { letter: "y", answer: "yo", status: 0, question: "CON LA Y. Pronombre personal, 1ª persona del singular" },
            { letter: "y", answer: "leguleyo", status: 0, question: "CONTIENE LA Y. Persona que aplica el derecho sin rigor y desenfadadamente" }
        ],[
            { letter: "z", answer: "zen", status: 0, question: "CON LA Z. Escuela de budismo que busca la experiencia de la sabiduría más allá del discurso racional" },
            { letter: "z", answer: "raiz", status: 0, question: "CONTIENE LA Z. Conjunto de fonemas mínimo e irreductible que comparten las palabras de una misma familia" },
            { letter: "z", answer: "zumbido", status: 0, question: "CON LA Z. Ruido que hacen algunos insectos como las abejas" },
            { letter: "z", answer: "zurrar", status: 0, question: "CON LA Z. Coloquialmente castigar a alguien, especialmente con azotes o golpes" }]]
}



pasapalabra();











function pasapalabra() {   //  Función raiz del ejercicio

    do {
        
        setGame();  
        
        do {

            playGame();

            endGame();

        } while ( rosco.endGame === false );

    } while ( rosco.playAgain === true );
    
}

function setGame() {    //  Configuración por defecto del juego: Nombre del jugador, preguntas de la partida

    setDefaultValues ();

    setUser();

    setQuestions();

    setDefaultRanking();

}

function setDefaultValues() {  //   Establecer los valores por defecto de la nueva partida

    rosco.user = "";            //  Reserva para el nombre del nuevo jugador
    rosco.endGame = false;      //  Valor para acabar la partida
    rosco.playAgain = true;     //  Valor para cerrar el programa
    rosco.questions = [ ];      //  Reserva para las preguntas de la nueva partida

}

function setUser() {    // Preguntar nombre y bienvenida al jugador

    let canWrite = true;

    do {
     
        let user = prompt ( "¿Como te llamas?" );
   
        user = transformByTrim ( user );
        let noSimbols = deleteSimbolsOnString ( user );
   
        if ( user !== null && user !== "" && noSimbols === user && user.length <= 41 ) {

            rosco.user = user;
            alert ( `              ${ playerString(`¡Hola ${ user }!`) }\n\n${ addSpace(44) }Controles:\n  Responder \"pasapalabra\", en blanco o cancelar => Siguiente pregunta.\n${ addSpace(26) }Responder \"end\" => Salir del juego.\n\n${ addSpace(27) }Las respuestas no admiten acentos.\n\n${ addSpace(41) }¿Empezamos?` );
            canWrite = true;

        } else if ( user === null || user === "" ) {

            alert ( "Debes introducir tu nombre para continuar." );
            canWrite = false;

        } else if ( noSimbols !== user ) {

            alert ( "No puedes usar símbolos para crear tu nombre.\nSolo puedes usar letras y números." );
            canWrite = false;

        } else if ( user.length > 41 ) {    //  Límite de carácteres para minimizar fallos al mostrar el Ranking 

            alert ( "No puedes usar un nombre tan largo.\nSolo dispones de 40 carácteres para escribir tu nombre." );  
            canWrite = false;
        }

    } while ( canWrite === false );

}

function transformByTrim(value) {    // Reducir espacios laterales en string respestando el valor "null"

    if ( value !== null ) {

        value = value.trim();

    }  

    return value;
}

function deleteSimbolsOnString(string) {   // Comprobar si promt SOLO tiene letras y números respetando el valor "null"

    let emptyString = '';    
    let filtro = 'abcçdefghijklmnñopqrstuvwxyzABCÇDEFGHIJKLMNÑOPQRSTUVWXYZ1234567890àáèéíòóúÀÁÈÉÍÒÓÚ ';  
    
    if ( string !== null ) {
        for ( let i = 0; i < string.length; i++ ) {
            if ( filtro.indexOf( string.charAt(i) ) != -1) {
                emptyString += string.charAt(i);
            }
        }
    }    
    return emptyString;
}

function setQuestions() {    // Seleccionar las preguntas de la partida

    for (let i = 0; i < rosco.questionsLibrary.length; i++) {

        getQuestion(i);
    }
}

function getQuestion(libraryIterator) {  //  seleccionar una pregunta de cada letra

    let questionsAvailable = [ ];  

    let stillAvailabes = 0;


        for ( let i = 0 ; i < rosco.questionsLibrary [ libraryIterator ] .length ; i++ ) {   //   Comprobar si existen preguntas que no se hayan mostrado

            if ( rosco.questionsLibrary [ libraryIterator ][ i ] .status === 0 ) {
            
                stillAvailabes++ ;            
            }
        }

        
        if ( stillAvailabes === 0 ) {   //  Asegurar que existan preguntas disponibles

            for ( let i = 0 ; i < rosco.questionsLibrary [ libraryIterator ] .length ; i++ ) {

                rosco.questionsLibrary [ libraryIterator ][ i ] .status = 0;

            }
        }
        
        for ( let i = 0 ; i < rosco.questionsLibrary [ libraryIterator ] .length ; i++ ) {   //  Agrupar preguntas disponibles
 
            if ( rosco.questionsLibrary [ libraryIterator ][ i ] .status === 0 ) {
   
                questionsAvailable.push ( i );

            }
        }

    let selectedQuestion = questionsAvailable.length;
    selectedQuestion = Math.floor ( Math.random () * selectedQuestion );
    selectedQuestion = questionsAvailable [ selectedQuestion ];

    rosco.questions.push ( rosco.questionsLibrary [ libraryIterator ][ selectedQuestion ] );
    rosco.questionsLibrary [ libraryIterator ][ selectedQuestion ] .status = 1;     //  Para recordar las preguntas que ya han sido seleccionadas

}

function setDefaultRanking() {   //  Si es la primera partida cargar ranking con resultados de relleno

    if ( rosco.hasOwnProperty ( 'ranking' ) === false ) {

        rosco.ranking = [
            { user : "modoDios" , score : 27 },
            { user : "monos", score : 12 },
            { user : "jamesBond", score : 7 },
            { user : "goku" , score: 0 }
        ];
    }
}

function playGame() {  //  Mostrar al jugador las preguntas de la partida

    for ( let i = 0 ; i < rosco.questions.length ; i++ ) {

        if ( rosco.questions[ i ].status === 1 ) {

            let answer = prompt ( rosco.questions[i].question + showRosco() );   
            answer = getAnswer( answer , i );
            
            if ( answer === "end" ) {
            
                return null;            //  Parar la ejecución de la función

            }
        }       
    }
}

function showRosco() {   //  Mostrar rosco 

    let roscoString = `\n\n`;

    for ( let i = 0 ; i < rosco.questions.length ; i++ ) {

        if ( rosco.questions[ i ].status === 1 ) {

            roscoString += `     ${ rosco.questions[ i ].letter.toUpperCase() }`;

        } else if ( rosco.questions[ i ].status === 2 ) {

            roscoString += `  ✔`;

        } else if ( rosco.questions[ i ].status === 3 ) { 

            roscoString += `  ❌`;
   
        } 
   
        if ( i === 13 || i === 26 ) {
    
            roscoString += "\n  "
        } 
    }
    return roscoString;
}

function getAnswer(answer,i) { //  Chequear respuesta a la pregunta del turno actual

    answer = trimAndLowerCaseAnswer( answer );

    if ( answer === rosco.questions[ i ].answer ) {   //  Si la respuesta es correcta

        rosco.questions[ i ].status = 2;

        alert( "¡Correcto!" );

    } else if ( answer === "pasapalabra" || answer === "" || answer === null ) {   //  Varias maneras de pasar turno

    } else if ( answer === "end" ) {     //   Parar juego

        rosco.endGame = true;
        rosco.playAgain = false;

        showScore();

        return "end";

    } else {

        rosco.questions[ i ].status = 3;

        alert( `Ops...\n\nLa respuesta correcta es:\n\n${ rosco.questions[ i ].answer.toUpperCase() }`);
    }
}

function trimAndLowerCaseAnswer(string) {  //  Homogenizar formato de estilo de las respuestas del jugador

    if ( string !== null ) {

        string = string.trim();
        string = string.toLowerCase();
    }
    return string;
} 

function endGame() { //  Comprobar si se ha completado el rosco antes de una nueva ronda

    let total = rosco.questions.length;
    let questionsDone = 0;

    for ( let i = 0 ; i < rosco.questions.length ; i++ ) {

        if ( rosco.questions[ i ].status > 1 ) {

            questionsDone++;
        }
    }

    if ( total === questionsDone ) {

        rosco.endGame = true;
        
        showScore();

        showRanking();

        askPlayAgain();        
    }
}

function showScore() {  // Mostrar resultado al jugador

    let totalCorrect = 0;
    let totalWrong = 0;
    let totalMissing = 0;

    for ( let i = 0 ; i < rosco.questions.length ; i++ ) {

        if ( rosco.questions[ i ].status === 1 ) {

            totalMissing++;

        }if ( rosco.questions[ i ].status === 2 ) {

            totalCorrect++;
        }
        if ( rosco.questions[ i ].status === 3 ) {

            totalWrong++;
        }
    }

    if ( totalWrong === 0 && totalMissing === 0 ) {

        let victoryBackground = "✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌✌";

        alert(`${ victoryBackground }\n                   ${ playerString (`¡¡¡FELICIDADES ${ rosco.user.toUpperCase() }!!!`) }\n${ victoryBackground }\n${ victoryBackground }\n${ addSpace(26) }Has superado el rosco de pasapalabra.\n${ addSpace(29) }Lástima que no estemos en la tele.\n${ victoryBackground }\n${ victoryBackground }`);

    } else if ( totalMissing > 0 ) {

        alert ( `ADIÓS ${ rosco.user.toUpperCase() }\n\nPreguntas acertadas: ${ totalCorrect }\nPreguntas falladas: ${ totalWrong }\nPreguntas sin responder: ${ totalMissing }\n\n¡Vuelve pronto!` );

    } else { 

        alert ( `FIN DE PARTIDA ${ rosco.user.toUpperCase() }\n\nPreguntas acertadas: ${ totalCorrect }\nPreguntas falladas: ${ totalWrong }\n\n¡Suerte la próxima vez!` );
    }
}

function showRanking() {  //  Mostrar clasificación al jugador

    addCurrentScoreToRanking();

    alert( showRankingOnString() );
}

function addCurrentScoreToRanking() {   //  Añadir el resultado de la partida a la clasificación

    let userScore = getScore();

    for ( let i = 0 ; i < rosco.ranking.length ; i++ ) {

        if ( rosco.ranking[ i ].score <= userScore ) {

            let userName = rosco.user;

            rosco.ranking.splice ( i , 0 , { user : userName, score : userScore } );

            return null;
        }
    }
}

function getScore() {  // total de respuestas correctas

    let score = 0;

    for ( let i = 0 ; i < rosco.questions.length ; i++ ) {

        if ( rosco.questions[ i ].status === 2 ) {
    
            score++;
    
        }
    }

    return score;
}

function showRankingOnString() {    //  Obtener la clasificación en cadena de texto para el prompt

    let promptString = ` RANK ${ playerString( "PLAYER" ) } SCORE \n`;

    for ( let i = 0 ; i < rosco.ranking.length ; i++ ) {

        promptString += "---------------------------------------------------------------------------\n";

        promptString += `${ rankString( i ) }${ playerString( rosco.ranking[ i ].user ) }${ scoreString( rosco.ranking [ i ] .score ) }\n`;

    }
    
    return promptString;

}

function rankString(i) {   // Convertir valor de ranking en string para el prompt

    let string = "";

    if ( i < 9 ) {

        string = `     ${i + 1}    `;

    } else if ( i >= 9 ) {

        string = `    ${i + 1}   `;

    }

    return string;

}

function playerString(player) {   //  Cadena de texto con el nombre del jugador

    let largeOfString = player.length;
    largeOfString = ( 40 - largeOfString );

    let string = `${ addSpace ( Math.ceil ( largeOfString ) ) }${ player }${ addSpace ( Math.floor ( largeOfString ) ) }`;

    return string;

}

function scoreString(score) {  //  Cadena de texto con el resultado


    let string = "";

    if ( score > 9 ) {

        string = ` ${ score } / ${ 27 }`;

    } else if ( score <= 9 ) {

        string = `   ${ score } / ${ 27 }`;

    }

    return string;

}

function addSpace(numberOfRepetitions) {  //  Añadir espacios. Un padAdd()/padEnd() personalizado 

    let string = "";

    for ( let i = 0 ; i < numberOfRepetitions ; i++ ) {

        string += ` `;
    }
    return string;

}

function askPlayAgain() {  //  Preguntar por nueva partida

    let playAgain = confirm ( "¿Volver a jugar?" ); 

    rosco.playAgain = playAgain;

    if ( playAgain === false ) {

        alert ( `Hasta pronto ${rosco.user}` );
    }

}

